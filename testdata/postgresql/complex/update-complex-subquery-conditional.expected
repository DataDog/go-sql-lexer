[
    {
        "expected": "UPDATE products p SET price = CASE WHEN p.stock < ? THEN p.price * ? WHEN p.stock BETWEEN ? AND ? THEN p.price ELSE p.price * ? END, last_updated = NOW ( ) FROM ( SELECT product_id, SUM ( quantity ) FROM inventory GROUP BY product_id ) WHERE sub.product_id = p.id",
        "statement_metadata": {
            "size": 29,
            "tables": [
                "products",
                "inventory"
            ],
            "commands": [
                "UPDATE",
                "SELECT"
            ],
            "comments": [],
            "procedures": []
        }
    }
]